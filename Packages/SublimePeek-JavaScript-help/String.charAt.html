<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>SublimePeek | Help for String.charAt</title><link href="css/bootstrap.min.css" rel="stylesheet"><style type="text/css">  body {  padding-top: 10px;  padding-bottom: 20px;  padding-left: 10%;  padding-right: 10%;  }  .sidebar-nav {  padding: 9px 0;  }</style><link href="css/bootstrap-responsive.min.css" rel="stylesheet"><link href="css/custom.css" rel="stylesheet">  </head><body><div style="display: block; "><div id="4eea835f8cd2963cba000002" class="page-header"><h2>String.charAt</h2><!--CONTENT--><div id = "section_1"><span id = "Summary"></span><h3 class = "editable">Summary</h3><p>Returns the specified character from a string.</p><table class = "standard-table"> <thead> <tr> <th class = "header" colspan = "2">Method of <a rel = "internal" href = "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" title = "en/JavaScript/Reference/Global_Objects/String"><code>String</code></a></th> </tr> </thead> <tbody> <tr> <td>Implemented in</td> <td>JavaScript 1.0</td> </tr> <tr> <td>ECMAScript Edition</td> <td>ECMAScript 1st Edition</td> </tr> </tbody></table> </div><div id = "section_2"><span id = "Syntax"></span><h3 class = "editable">Syntax</h3><p><code><em>string</em>.charAt(<em>index</em>)</code></p></div><div id = "section_3"><span id = "Parameters"></span><h3 class = "editable">Parameters</h3><dl> <dt><code>index</code>&nbsp;</dt> <dd>An integer between 0 and 1 less than the length of the string.</dd></dl></div><div id = "section_4"><span id = "Description"></span><h3 class = "editable">Description</h3><p>Characters in a string are indexed from left to right. The index of the first character is 0, and the index of the last character in a string called <code>stringName</code> is <code>stringName.length - 1</code>. If the <code>index</code> you supply is out of range, JavaScript returns an empty string.</p></div><div id = "section_5"><span id = "Examples"></span><h3 class = "editable">Examples</h3><div id = "section_6"><span id = "Example:_Displaying_characters_at_different_locations_in_a_string"></span><h4 class = "editable">Example: Displaying characters at different locations in a string</h4><p>The following example displays characters at different locations in the string &quot;<code>Brave new world</code>&quot;:</p>          <pre name = "code" class = "js">var anyString=&quot;Brave new world&quot;;document.writeln(&quot;The character at index 0 is '&quot; + anyString.charAt(0) + &quot;'&quot;);document.writeln(&quot;The character at index 1 is '&quot; + anyString.charAt(1) + &quot;'&quot;);document.writeln(&quot;The character at index 2 is '&quot; + anyString.charAt(2) + &quot;'&quot;);document.writeln(&quot;The character at index 3 is '&quot; + anyString.charAt(3) + &quot;'&quot;);document.writeln(&quot;The character at index 4 is '&quot; + anyString.charAt(4) + &quot;'&quot;);document.writeln(&quot;The character at index 999 is '&quot; + anyString.charAt(999) + &quot;'&quot;);</pre>        <p>These lines display the following:</p><pre>The character at index 0 is 'B'The character at index 1 is 'r'The character at index 2 is 'a'The character at index 3 is 'v'The character at index 4 is 'e'The character at index 999 is ''</pre></div><div id = "section_7"><span id = "Example_2:.C2.A0Getting_whole_characters"></span><h4 class = "editable">Example 2:&nbsp;Getting whole characters</h4><p>The following provides a means of ensuring that going through a string loop always provides a whole character, even if the string contains characters that are not in the Basic Multi-lingual Plane.</p>          <pre name = "code" class = "js">var str = 'A\uD87E\uDC04Z'; // We could also use a non-BMP character directlyfor (var i=0, chr; i &lt; str.length; i++) {    if ((chr = getWholeChar(str, i)) === false) {continue;} // Adapt this line at the top of each loop, passing in the whole string and the current iteration and returning a variable to represent the individual character    alert(chr);}function getWholeChar (str, i) {    var code = str.charCodeAt(i);          if (isNaN(code)) {        return ''; // Position not found    }    if (code &lt; 0xD800 || code &gt; 0xDFFF) {        return str.charAt(i);    }    if (0xD800 &lt;= code &amp;&amp; code &lt;= 0xDBFF) { // High surrogate (could change last hex to 0xDB7F to treat high private surrogates as single characters)        if (str.length &lt;= (i+1))  {            throw 'High surrogate without following low surrogate';        }        var next = str.charCodeAt(i+1);        if (0xDC00 &gt; next || next &gt; 0xDFFF) {            throw 'High surrogate without following low surrogate';        }        return str.charAt(i)+str.charAt(i+1);    }    // Low surrogate (0xDC00 &lt;= code &amp;&amp; code &lt;= 0xDFFF)    if (i === 0) {        throw 'Low surrogate without preceding high surrogate';    }    var prev = str.charCodeAt(i-1);    if (0xD800 &gt; prev || prev &gt; 0xDBFF) { // (could change last hex to 0xDB7F to treat high private surrogates as single characters)        throw 'Low surrogate without preceding high surrogate';    }    return false; // We can pass over low surrogates now as the second component in a pair which we have already processed}</pre>        <p>&nbsp;</p><p>In an exclusive JavaScript 1.7+&nbsp;environment (such as Firefox) which allows destructured assignment, the following is a more succinct and somewhat more flexible alternative in that it does incrementing for an incrementing variable automatically (if the character warrants it in being a surrogate pair).</p>          <pre name = "code" class = "js">var str = 'A\uD87E\uDC04Z'; // We could also use a non-BMP character directlyfor (var i=0, chr; i &lt; str.length; i++) {    [chr, i] = getWholeCharAndI(str, i); // Adapt this line at the top of each loop, passing in the whole string and the current iteration and returning an array with the individual character and 'i' value (only changed if a surrogate pair)    alert(chr);}function getWholeCharAndI (str, i) {    var code = str.charCodeAt(i);    if (isNaN(code)) {        return ''; // Position not found    }    if (code &lt; 0xD800 || code &gt; 0xDFFF) {        return [str.charAt(i), i]; // Normal character, keeping 'i' the same    }    if (0xD800 &lt;= code &amp;&amp; code &lt;= 0xDBFF) { // High surrogate (could change last hex to 0xDB7F to treat high private surrogates as single characters)        if (str.length &lt;= (i+1))  {            throw 'High surrogate without following low surrogate';        }        var next = str.charCodeAt(i+1);        if (0xDC00 &gt; next || next &gt; 0xDFFF) {            throw 'High surrogate without following low surrogate';        }        return [str.charAt(i)+str.charAt(i+1), i+1];    }    // Low surrogate (0xDC00 &lt;= code &amp;&amp; code &lt;= 0xDFFF)    if (i === 0) {        throw 'Low surrogate without preceding high surrogate';    }    var prev = str.charCodeAt(i-1);    if (0xD800 &gt; prev || prev &gt; 0xDBFF) { // (could change last hex to 0xDB7F to treat high private surrogates as single characters)        throw 'Low surrogate without preceding high surrogate';    }    return [str.charAt(i+1), i+1]; // Return the next character instead (and increment)}</pre>        <p>&nbsp;</p></div><div id = "section_8"><span id = "Example_3:.C2.A0Fixing_charAt_to_support_non-Basic-Multilingual-Plane_(BMP).C2.A0characters"></span><h4 class = "editable">Example 3:&nbsp;Fixing charAt to support non-Basic-Multilingual-Plane (BMP)&nbsp;characters</h4><p>While example 2 may be more frequently useful for those wishing to support non-BMP characters (since the above does not require the caller to know where any non-BMP&nbsp;character might appear), in the event that one <em>does</em> wish, in choosing a character by index, to treat the surrogate pairs within a string as the single characters they represent, one can use the following:</p>          <pre name = "code" class = "js">function fixedCharAt (str, idx) {    var ret = '';    str += '';    var end = str.length;    var surrogatePairs = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;    while ((surrogatePairs.exec(str)) != null) {        var li = surrogatePairs.lastIndex;        if (li - 2 &lt; idx) {            idx++;        }        else {            break;        }    }    if (idx &gt;= end || idx &lt; 0) {        return '';    }    ret += str.charAt(idx);    if (/[\uD800-\uDBFF]/.test(ret) &amp;&amp; /[\uDC00-\uDFFF]/.test(str.charAt(idx+1))) {        ret += str.charAt(idx+1); // Go one further, since one of the &quot;characters&quot; is part of a surrogate pair    }    return ret;}</pre>        </div></div><div id = "section_6"><span id = "Example:_Displaying_characters_at_different_locations_in_a_string"></span><h4 class = "editable">Example: Displaying characters at different locations in a string</h4><p>The following example displays characters at different locations in the string &quot;<code>Brave new world</code>&quot;:</p>          <pre name = "code" class = "js">var anyString=&quot;Brave new world&quot;;document.writeln(&quot;The character at index 0 is '&quot; + anyString.charAt(0) + &quot;'&quot;);document.writeln(&quot;The character at index 1 is '&quot; + anyString.charAt(1) + &quot;'&quot;);document.writeln(&quot;The character at index 2 is '&quot; + anyString.charAt(2) + &quot;'&quot;);document.writeln(&quot;The character at index 3 is '&quot; + anyString.charAt(3) + &quot;'&quot;);document.writeln(&quot;The character at index 4 is '&quot; + anyString.charAt(4) + &quot;'&quot;);document.writeln(&quot;The character at index 999 is '&quot; + anyString.charAt(999) + &quot;'&quot;);</pre>        <p>These lines display the following:</p><pre>The character at index 0 is 'B'The character at index 1 is 'r'The character at index 2 is 'a'The character at index 3 is 'v'The character at index 4 is 'e'The character at index 999 is ''</pre></div><div id = "section_7"><span id = "Example_2:.C2.A0Getting_whole_characters"></span><h4 class = "editable">Example 2:&nbsp;Getting whole characters</h4><p>The following provides a means of ensuring that going through a string loop always provides a whole character, even if the string contains characters that are not in the Basic Multi-lingual Plane.</p>          <pre name = "code" class = "js">var str = 'A\uD87E\uDC04Z'; // We could also use a non-BMP character directlyfor (var i=0, chr; i &lt; str.length; i++) {    if ((chr = getWholeChar(str, i)) === false) {continue;} // Adapt this line at the top of each loop, passing in the whole string and the current iteration and returning a variable to represent the individual character    alert(chr);}function getWholeChar (str, i) {    var code = str.charCodeAt(i);          if (isNaN(code)) {        return ''; // Position not found    }    if (code &lt; 0xD800 || code &gt; 0xDFFF) {        return str.charAt(i);    }    if (0xD800 &lt;= code &amp;&amp; code &lt;= 0xDBFF) { // High surrogate (could change last hex to 0xDB7F to treat high private surrogates as single characters)        if (str.length &lt;= (i+1))  {            throw 'High surrogate without following low surrogate';        }        var next = str.charCodeAt(i+1);        if (0xDC00 &gt; next || next &gt; 0xDFFF) {            throw 'High surrogate without following low surrogate';        }        return str.charAt(i)+str.charAt(i+1);    }    // Low surrogate (0xDC00 &lt;= code &amp;&amp; code &lt;= 0xDFFF)    if (i === 0) {        throw 'Low surrogate without preceding high surrogate';    }    var prev = str.charCodeAt(i-1);    if (0xD800 &gt; prev || prev &gt; 0xDBFF) { // (could change last hex to 0xDB7F to treat high private surrogates as single characters)        throw 'Low surrogate without preceding high surrogate';    }    return false; // We can pass over low surrogates now as the second component in a pair which we have already processed}</pre>        <p>&nbsp;</p><p>In an exclusive JavaScript 1.7+&nbsp;environment (such as Firefox) which allows destructured assignment, the following is a more succinct and somewhat more flexible alternative in that it does incrementing for an incrementing variable automatically (if the character warrants it in being a surrogate pair).</p>          <pre name = "code" class = "js">var str = 'A\uD87E\uDC04Z'; // We could also use a non-BMP character directlyfor (var i=0, chr; i &lt; str.length; i++) {    [chr, i] = getWholeCharAndI(str, i); // Adapt this line at the top of each loop, passing in the whole string and the current iteration and returning an array with the individual character and 'i' value (only changed if a surrogate pair)    alert(chr);}function getWholeCharAndI (str, i) {    var code = str.charCodeAt(i);    if (isNaN(code)) {        return ''; // Position not found    }    if (code &lt; 0xD800 || code &gt; 0xDFFF) {        return [str.charAt(i), i]; // Normal character, keeping 'i' the same    }    if (0xD800 &lt;= code &amp;&amp; code &lt;= 0xDBFF) { // High surrogate (could change last hex to 0xDB7F to treat high private surrogates as single characters)        if (str.length &lt;= (i+1))  {            throw 'High surrogate without following low surrogate';        }        var next = str.charCodeAt(i+1);        if (0xDC00 &gt; next || next &gt; 0xDFFF) {            throw 'High surrogate without following low surrogate';        }        return [str.charAt(i)+str.charAt(i+1), i+1];    }    // Low surrogate (0xDC00 &lt;= code &amp;&amp; code &lt;= 0xDFFF)    if (i === 0) {        throw 'Low surrogate without preceding high surrogate';    }    var prev = str.charCodeAt(i-1);    if (0xD800 &gt; prev || prev &gt; 0xDBFF) { // (could change last hex to 0xDB7F to treat high private surrogates as single characters)        throw 'Low surrogate without preceding high surrogate';    }    return [str.charAt(i+1), i+1]; // Return the next character instead (and increment)}</pre>        <p>&nbsp;</p></div><div id = "section_8"><span id = "Example_3:.C2.A0Fixing_charAt_to_support_non-Basic-Multilingual-Plane_(BMP).C2.A0characters"></span><h4 class = "editable">Example 3:&nbsp;Fixing charAt to support non-Basic-Multilingual-Plane (BMP)&nbsp;characters</h4><p>While example 2 may be more frequently useful for those wishing to support non-BMP characters (since the above does not require the caller to know where any non-BMP&nbsp;character might appear), in the event that one <em>does</em> wish, in choosing a character by index, to treat the surrogate pairs within a string as the single characters they represent, one can use the following:</p>          <pre name = "code" class = "js">function fixedCharAt (str, idx) {    var ret = '';    str += '';    var end = str.length;    var surrogatePairs = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;    while ((surrogatePairs.exec(str)) != null) {        var li = surrogatePairs.lastIndex;        if (li - 2 &lt; idx) {            idx++;        }        else {            break;        }    }    if (idx &gt;= end || idx &lt; 0) {        return '';    }    ret += str.charAt(idx);    if (/[\uD800-\uDBFF]/.test(ret) &amp;&amp; /[\uDC00-\uDFFF]/.test(str.charAt(idx+1))) {        ret += str.charAt(idx+1); // Go one further, since one of the &quot;characters&quot; is part of a surrogate pair    }    return ret;}</pre>        </div><div id = "section_9"><span id = "See_Also"></span><h3 class = "editable">See Also</h3><p><a title = "en/Core_JavaScript_1.5_Reference/Global_Objects/String/indexOf" rel = "internal" href = "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/indexOf">indexOf</a>, <a title = "en/Core_JavaScript_1.5_Reference/Global_Objects/String/lastIndexOf" rel = "internal" href = "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/lastIndexOf">lastIndexOf</a>, <a title = "en/Core_JavaScript_1.5_Reference/Global_Objects/String/split" rel = "internal" href = "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/split">split</a>, <a title = "en/Core_JavaScript_1.5_Reference/Global_Objects/String/charCodeAt" rel = "internal" href = "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/charCodeAt">charCodeAt</a></p><p>&nbsp;</p><p></p></div><!--NOTE--><p class="source-link">This content was sourced by <a href="http://dochub.io/">DocHub</a> from MDN.</p></div></div></body></html>